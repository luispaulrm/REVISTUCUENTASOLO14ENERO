ğŸ§ª Running Canonizer Test Suite...

ğŸ“„ LAYER 1 TESTS (Linear Representation)
âœ… PASS - L1.1: contrato.tabla_prestaciones exists
âœ… PASS - L1.2: tabla_prestaciones.lineas is an array
âœ… PASS - L1.3: tabla_prestaciones has at least 100 lines
âœ… PASS - L1.4: Lines have correct structure (linea_id, tipo, fuente_visual)
âœ… PASS - L1.5: Prestaciones have preferente with aplica flag

ğŸ” LAYER 2 TESTS (Consolidated Prestations)
âœ… PASS - L2.1: prestaciones_consolidadas exists
âœ… PASS - L2.2: prestaciones_consolidadas is an array
âœ… PASS - L2.3: Has at least 30 consolidated prestations
âœ… PASS - L2.4: Each prestation has opciones array
âœ… PASS - L2.5: Regimes have fuente traceability

âš–ï¸ LAYER 3 TESTS (Audit Schema)
âœ… PASS - L3.1: auditoria_schema exists
âœ… PASS - L3.2: auditoria_schema has agrupaciones_clinicas
âœ… PASS - L3.3: auditoria_schema has definiciones
âœ… PASS - L3.4: Definiciones include ambito classification
âœ… PASS - L3.5: URGENCIA variants are grouped

ğŸ”¬ CONSOLIDATION & DEDUPLICATION TESTS
âœ… PASS - C1: HONORARIOS MÃ‰DICOS QUIRÃšRGICOS exists
âœ… PASS - C2: HONORARIOS has at least 2 regimes
âœ… PASS - C3: HONORARIOS has preferente regime
âœ… PASS - C4: HONORARIOS has libre_eleccion regime
âœ… PASS - C5: Oferta preferente has multiple explicit regimes (BCC)
âœ… PASS - C6: DIA CAMA CUIDADOS INTENSIVOS has 3 preferential options (BCC Decision Tree)
âœ… PASS - C7: Options include conditions (e.g. HabitaciÃ³n Individual)

ğŸ§¹ NORMALIZATION TESTS
âœ… PASS - N1: Provider names are uppercase (LE only)
âœ… PASS - N2: Provider names are sorted alphabetically (LE only)
âœ… PASS - N3: Provider names cleaned (LE only)

ğŸ§ª NFE STRUCTURAL TESTS
âœ… PASS - N4: HONORARIOS has NFE "Sin Tope"
âœ… PASS - N5: MEDICAMENTOS has NFE "60"

============================================================
ğŸ“Š TEST RESULTS SUMMARY
============================================================

âœ… PASSED: 27/27
âŒ FAILED: 0/27
============================================================
